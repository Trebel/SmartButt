http://mbed.org/users/vsluiter/code/TSI/#4dc2f5a3a731
